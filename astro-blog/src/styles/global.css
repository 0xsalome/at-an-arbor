/**
 * Global Styles for at-an-arbor
 *
 * このファイルは、Astroブログページで使用されるグローバルスタイルを定義します。
 * リンクのスタイル統一など、サイト全体で共有されるデザインシステムを管理します。
 */

/* ========================================
   改行の明示的な表示
   ======================================== */

/**
 * Obsidianスタイルの改行を確実に表示
 * remark-breaksで生成された<br>タグを改行として表示
 */
.prose br {
  content: "\A" !important;
  white-space: pre-line !important;
}

.prose br::after {
  content: "\A";
  white-space: pre;
}

/**
 * 段落間の余白を大きくして読みやすく
 * Obsidianで複数の空行を入れた箇所を視覚的に再現
 */
.prose p + p {
  margin-top: 2em !important;
}

/**
 * コードブロックと水平線の前後に大きな余白
 * Obsidianで意図的に入れた空白を視覚的に再現
 */
.prose pre {
  margin-top: 3em !important;
  margin-bottom: 3em !important;
}

.prose hr {
  margin-top: 3em !important;
  margin-bottom: 3em !important;
}

/* ========================================
   リンク統一スタイル
   ======================================== */

/**
 * サイト全体のリンク色: 紫色
 * - ライトモード: #7c3aed (濃い紫)
 * - ダークモード: #c4b5fd (明るい紫)
 *
 * ホバー時:
 * - 色が少し濃く/明るくなる
 * - 背景色が薄紫になる
 */

.prose a,
.prose .wikilink {
  color: #7c3aed !important;
  text-decoration: underline;
  text-underline-offset: 3px;
  font-weight: 500;
  transition: all 0.2s ease;
}

.prose a:hover,
.prose .wikilink:hover {
  color: #6d28d9 !important;
  text-decoration: underline;
  background-color: rgba(124, 58, 237, 0.1);
  padding: 0 4px;
  border-radius: 3px;
}

/* ダークモード */
.dark .prose a,
.dark .prose .wikilink {
  color: #c4b5fd !important;
  text-decoration: underline;
}

.dark .prose a:hover,
.dark .prose .wikilink:hover {
  color: #e9d5ff !important;
  text-decoration: underline;
  background-color: rgba(196, 181, 253, 0.15);
}

/* ========================================
   見出しスタイル（Obsidian互換）
   ======================================== */

.prose h2 {
  font-size: 1.5em !important;
  font-weight: 700 !important;
  margin-top: 2em !important;
  margin-bottom: 1em !important;
  line-height: 1.33 !important;
  color: #111827;
}

.prose h3 {
  font-size: 1.25em !important;
  font-weight: 600 !important;
  margin-top: 1.6em !important;
  margin-bottom: 0.6em !important;
  line-height: 1.6 !important;
  color: #111827;
}

.prose h4 {
  font-size: 1.1em !important;
  font-weight: 600 !important;
  margin-top: 1.5em !important;
  margin-bottom: 0.5em !important;
  color: #111827;
}

.dark .prose h2,
.dark .prose h3,
.dark .prose h4 {
  color: #f9fafb !important;
}

/* ========================================
   リストスタイル（Obsidian互換）
   ======================================== */

.prose ul {
  list-style-type: disc !important;
  margin-top: 1.25em !important;
  margin-bottom: 1.25em !important;
  padding-left: 1.625em !important;
}

.prose ol {
  list-style-type: decimal !important;
  margin-top: 1.25em !important;
  margin-bottom: 1.25em !important;
  padding-left: 1.625em !important;
}

.prose li {
  margin-top: 0.5em !important;
  margin-bottom: 0.5em !important;
}

.prose li > ul,
.prose li > ol {
  margin-top: 0.5em !important;
  margin-bottom: 0.5em !important;
}
